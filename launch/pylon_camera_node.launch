<?xml version="1.0"?>
<launch>
    <!-- Mendetory Settings -->
    <arg name="node_name"             default="pylon_camera_node" />
    <arg name="camera_frame"          default="pylon_camera_node" />
    <arg name="camera_info_url"       default="file://$(find pylon_camera)/config/camera_info_daA1600-60uc.yaml" />
    <arg name="frame_rate"            default="20.0" />
    <arg name="pixel_encoding"        default="1" /> <!-- 0:MONO8, 1:RGB8 -->

    <!-- Optional Settings through yaml file -->
    <arg name="config_file"           default="$(find pylon_camera)/config/default.yaml" />

    <!-- Node Settings -->
    <arg name="respawn"               default="false" />
    <arg name="debug"                 default="false" />
    
    <arg unless="$(arg debug)" name="launch_prefix" value="" />
    <arg     if="$(arg debug)" name="launch_prefix" value="gdb -ex run --args" />

    <node name="$(arg node_name)" pkg="pylon_camera" type="pylon_camera_node" output="screen" respawn="$(arg respawn)" launch-prefix="$(arg launch_prefix)">
        <param name="camera_frame"          value="$(arg camera_frame)" />
        <param name="camera_info_url"       value="$(arg camera_info_url)" />
        <param name="frame_rate"            value="$(arg frame_rate)" />
        <param name="pixel_encoding"        value="$(arg pixel_encoding)" />
        <rosparam command="load" file="$(arg config_file)" />
    </node>
</launch>
